<div class="header">
  <div *ngIf="!isDocumentEditor" class="logo logo-dark text-center header-left">
    <img src="assets/images/logo/logo-40x40.png" alt="Logo">
    <img class="logo-fold" src="assets/images/logo/logo-40x40.png" alt="Logo">
    <!-- <h1 class="mt-1"> M </h1> <button nz-button nzType="default" class="upgrade-btn mt-4 text-primary">M</button> -->
    <div *ngIf="!isFolded" class="nav-wrap search-btn">
      <ul class="nav-left">
        <li class="desktop-toggle">
          <a (click)="searchToggle()" class="header-left-search">
            <i nz-icon nzType="search" theme="outline"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>
  <div class="logo logo-white">
    <a href="">
      M
      <!-- <img src="assets/images/logo/logo-white.png" alt="Logo"> <img class="logo-fold" src="assets/images/logo/logo-fold-white.png" alt="Logo"> -->
    </a>
  </div>
  <div class="nav-wrap">
    <ul class="nav-left" *ngIf="!isDocumentEditor">
      <li class="desktop-toggle">
        <a (click)="toggleFold()">
          <i nz-icon [nzType]="isFolded? 'menu-unfold':'menu-fold'" theme="outline"></i>
        </a>
      </li>
      <li class="mobile-toggle">
        <a (click)="toggleExpand()">
          <i nz-icon [nzType]="isExpand? 'menu-fold': 'menu-unfold'" theme="outline"></i>
        </a>
      </li>
      <ng-template #closeIcon>
        <i-feather name="x-circle" class="feather-size-20 stroke-darker"></i-feather>
      </ng-template>
      <nz-drawer [nzWidth]="380" nzTitle="Search" [nzVisible]="searchVisible" nzPlacement="left" [nzCloseIcon]="closeIcon"
        (nzOnClose)="searchToggle()">
        <app-content-search (linkClicked)="searchToggle()" *nzDrawerContent></app-content-search>
      </nz-drawer>
    </ul>
    <ul class="nav-left" *ngIf="isDocumentEditor">
      <li>
        <button (click)="goBack()" nz-button class="ml-2 d-flex align-items-center justify-content-center color-darker" nzShape="circle">
          <i nz-icon nzType="arrow-left" class="lh-0 font-size-20"></i>
        </button>
      </li>
    </ul>
    <ul class="nav-right position-relative">
      <li class="mr-2">
        <button [nzOverlayStyle]="{'top': '10px'}" nz-dropdown class="help-btn d-flex align-items-center justify-content-around"
          [nzDropdownMenu]="helpDropDown" [nzTrigger]="'click'" [nzPlacement]="'bottomCenter'"><i
            class="help-icon" nz-icon nzType="question-circle" nzTheme="outline"></i>Help</button>
        <nz-dropdown-menu #helpDropDown="nzDropdownMenu" class="custom-dropdown">
          <ul nz-menu class="p-10 custom-dropdown">
            <!-- <li class="p-h-20 p-b-15 m-b-10 border-bottom">
              <div class="d-flex ">
                <nz-avatar nzSize="large"
                  nzSrc="https://preview.keenthemes.com/metronic-v4/theme/assets/pages/media/profile/people19.png">
                </nz-avatar>
                <div class="m-l-10">
                  <p class="m-b-0 text-dark font-weight-semibold">{{user.first_name+' '+user.last_name}}</p>
                  <p class="m-b-0 opacity-07">{{user.email}}</p>
                </div>
              </div>
            </li> -->
            <li nz-menu-item class="border-bottom p-t-10 p-b-10" >
              <a class="d-flex align-items-center justify-content-between" href = "https://help.marketingcopy.ai" target = "_blank">
                <div class="d-flex align-items-center">
                  <i class="font-size-16 opacity-04" nz-icon nzType="question-circle" nzTheme="outline"></i>
                  <span class="m-l-10 help-dropdown-item">Help center</span>
                </div>
                <!-- <i class="font-size-10" nz-icon nzType="right" theme="outline"></i> -->
              </a>
            </li>
            <!-- https://1lz8ahoedmv.typeform.com/to/o6dYPcKr -->
            <li nz-menu-item class="border-bottom p-t-10 p-b-10">
              <a class="d-flex align-items-center justify-content-between" href = "https://help.marketingcopy.ai" target = "_blank">
                <div class="d-flex align-items-center">
                  <i class="opacity-04 font-size-16" nz-icon nzType="read" theme="outline"></i>
                  <span class="m-l-10 help-dropdown-item">View tutorials</span>
                </div>
                <!-- <i class="font-size-10" nz-icon nzType="right" theme="outline"></i> -->
              </a>
            </li>
            <!--<li nz-menu-item class="border-bottom p-t-10 p-b-10"
              (click)="typeFormOpen=true;url='https://1lz8ahoedmv.typeform.com/to/o6dYPcKr'">
              <a class="d-flex align-items-center justify-content-between">
                <div class="d-flex align-items-center">
                  <i class="opacity-04 font-size-16" nz-icon nzType="mail" theme="outline"></i>
                  <span class="m-l-10 help-dropdown-item">Contact us</span>
                </div>
              </a>
            </li>-->
            <li nz-menu-item class="border-bottom p-t-10 p-b-10"
              (click)="typeFormOpen=true;url='https://1lz8ahoedmv.typeform.com/to/tKwt5lRH'">
              <a class="d-flex align-items-center justify-content-between">
                <div class="d-flex align-items-center">
                  <i class="opacity-04 font-size-16" nz-icon nzType="tool" theme="outline"></i>
                  <span class="m-l-10 help-dropdown-item">Request a new feature</span>
                </div>
                <!-- <i class="font-size-10" nz-icon nzType="right" theme="outline"></i> -->
              </a>
            </li>
            <li nz-menu-item class="border-bottom p-t-10 p-b-10"
              (click)="typeFormOpen=true;url='https://1lz8ahoedmv.typeform.com/to/o6dYPcKr'">
              <a class="d-flex align-items-center justify-content-between">
                <div class="d-flex align-items-center">
                  <i class="opacity-04 font-size-16" nz-icon nzType="bug" theme="outline"></i>
                  <span class="m-l-10 help-dropdown-item">Report a bug</span>
                </div>
                <!-- <i class="font-size-10" nz-icon nzType="right" theme="outline"></i> -->
              </a>
            </li>
            <!-- https://1lz8ahoedmv.typeform.com/to/iNe6qItF -->
            <li nz-menu-item class="p-t-10 p-b-10"
              (click)="typeFormOpen=true; iframeLoading=true;url='https://1lz8ahoedmv.typeform.com/to/Rrgf8ZQU'">
              <a class="d-flex align-items-center justify-content-between">
                <div class="d-flex align-items-center">
                  <i class="opacity-04 font-size-16" nz-icon nzType="notification" theme="outline"></i>
                  <span class="m-l-10 help-dropdown-item">Submit feedback</span>
                </div>
                <!-- <i class="font-size-10" nz-icon nzType="right" theme="outline"></i> -->
              </a>
            </li>
          </ul>
        </nz-dropdown-menu>
      </li>
      <li class="mr-2">
        <div class="notifications beamerTrigger">
          <!-- <span class="notification-circle"></span> -->
          <i class="font-size-22 bell-icon" nz-icon nzType="bell" nzTheme="outline"></i>
        </div>
        <!-- <button nz-button nzType="default" class="upgrade-btn btn">Upgrade</button> -->
      </li>
      <li>
        <span class="p-h-10 pointer" [nzOverlayStyle]="{'top': '20px'}" nz-dropdown [nzDropdownMenu]="profile" [nzTrigger]="'click'"
          [nzPlacement]="'bottomRight'">
          <!-- <nz-avatar [nzIcon]="'user'"
            nzSrc="https://preview.keenthemes.com/metronic-v4/theme/assets/pages/media/profile/people19.png">
          </nz-avatar> -->
          <nz-avatar [nzText]="user?.first_name[0].toUpperCase()+user?.last_name[0].toUpperCase()"
            class="avatar-bg font-size-14">
          </nz-avatar>
        </span>
        <nz-dropdown-menu #profile="nzDropdownMenu">
          <ul nz-menu class="p-b-15 p-t-20" *ngIf="user">
            <li class="p-h-20 p-b-15 m-b-10 border-bottom">
              <div class="d-flex m-r-50">
                <!-- <nz-avatar nzSize="large"
                  nzSrc="https://preview.keenthemes.com/metronic-v4/theme/assets/pages/media/profile/people19.png">
                </nz-avatar> -->
                <!-- <nz-avatar nzText="ME" class="ant-avatar-red profile-dropdown-avatar">
                </nz-avatar> -->
                <nz-avatar [nzText]="user?.first_name[0].toUpperCase()+user?.last_name[0].toUpperCase()"
                  class="avatar-bg font-size-14 profile-dropdown-avatar">
                </nz-avatar>
                <div class="m-l-10 d-flex flex-column justify-content-center">
                  <p class="m-b-0 text-dark font-weight-semibold line-height">{{user.first_name+' '+user.last_name}}
                  </p>
                  <p class="m-b-0 opacity-07 line-height">{{user.email}}</p>
                </div>
              </div>
            </li>
            <li nz-menu-item>
              <a [routerLink]="['/settings/profile']"  class="p-v-5 d-flex align-items-center justify-content-between">
                <div class="d-flex align-items-center">
                  <i class="opacity-04 font-size-16" nz-icon nzType="user" theme="outline"></i>
                  <span class="m-l-10 m-b-0">Edit Profile</span>
                </div>
                <!-- <i class="font-size-10" nz-icon nzType="right" theme="outline"></i> -->
              </a>
            </li>
            <li nz-menu-item>
              <a [routerLink]="['/settings/usage-billing']" class="p-v-5 d-flex align-items-center justify-content-between">
                <div class="d-flex align-items-center">
                  <i class="opacity-04 font-size-16" nz-icon nzType="lock" theme="outline"></i>
                  <span class="m-l-10 m-b-0">Account Setting</span>
                </div>
                <!-- <i class="font-size-10" nz-icon nzType="right" theme="outline"></i> -->
              </a>
            </li>
            <li nz-menu-item>
              <a [routerLink]="['/projects']" class="p-v-5 d-flex align-items-center justify-content-between">
                <div class="d-flex align-items-center">
                  <i class="opacity-04 font-size-16" nz-icon nzType="project" theme="outline"></i>
                  <span class="m-l-10 m-b-0">Projects</span>
                </div>
                <!-- <i class="font-size-10" nz-icon nzType="right" theme="outline"></i> -->
              </a>
            </li>
            <li nz-menu-item>
              <a class="p-v-5 d-flex align-items-center justify-content-between" (click)="logout()">
                <div class="d-flex align-items-center">
                  <i class="opacity-04 font-size-16" nz-icon nzType="logout" theme="outline"></i>
                  <span class="m-l-10 m-b-0">Logout</span>
                </div>
                <!-- <i class="font-size-10" nz-icon nzType="right" theme="outline"></i> -->
              </a>
            </li>
          </ul>
        </nz-dropdown-menu>
      </li>
      <!-- <li>
        <a (click)="quickViewToggle()">
          <i nz-icon nzType="appstore" theme="outline"></i>
        </a>
        <nz-drawer [nzWidth]="280" nzTitle="Quick View" [nzClosable]="false" [nzVisible]="quickViewVisible"
          nzPlacement="right" (nzOnClose)="quickViewToggle()">
          <app-quick-view></app-quick-view>
        </nz-drawer>
      </li> -->
      <li>

      </li>
    </ul>
  </div>
</div>
<div class="overlay" *ngIf="typeFormOpen">
  <div class="close-btn flex-grow-1"><i (click)="typeFormOpen=!typeFormOpen" nz-icon nzType="close" nzTheme="outline"
      class="pull-right text-white m-r-10 m-t-10"></i>
  </div>

  <iframe class="payment-form-modal conatainer" [src]="sensitizeUrl(url)"></iframe>
</div>
